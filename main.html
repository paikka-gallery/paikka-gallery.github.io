<!--NEEEDS FIX:
//help button add + arrow keys hint + reference of creator
//displaced css on mobile
//pls enter via desktop on main page OR os triggered sign, fading page,...-->



<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>paikka open call 2021</title>
    <script src="./scripts/aframe.min.js"></script>
    <script src="./scripts/link-controls.js"></script>
    <script src="./scripts/jquery.min.js"></script>
   </script>
   <script>
  AFRAME.registerComponent("mylink", {
    init: function() {
    this.el.addEventListener("click", (e)=> {
          window.location = this.data.href;
    })
    }
  })
</script>
  </head>
  <body>
<!--MAIN SCENE SETTINGS-->
    <a-scene renderer="antialias: true; colorManagement: true; sortObjects: true; highRefreshRate: true; physicallyCorrectLights: true; castShadow: true"
             keyboard-shortcuts="enterVR: false;"
  	         vr-mode-ui="enabled: false;"
             light="defaultLightsEnabled: false;"
             background="color:black;"
             loading-screen="dotsColor: black; backgroundColor: white; enabled:true"
             cursor="rayOrigin: mouse;"
             raycaster="far: 100; objects: [link]">
<!--LOADING IN ASSETS-->
      <a-assets>
        <a-asset-item id="gallery" src="./gltf_files/gallery_text5.gltf"></a-asset-item>
    <a-asset-item id="lepel" src="./gltf_files/lepel3.gltf"></a-asset-item>
        <a-asset-item id="virag" src="./gltf_files/virag2.gltf"></a-asset-item>
        <a-asset-item id="dirt" src="./gltf_files/dirt5.gltf"></a-asset-item>
        <img id="background" src="./backgrounds/jpg8k.jpg">
        <audio id="gallery" src="./audio/test.mp3" preload="auto"></audio>
        <audio id="universe" src="./audio/2_gain_opus.opus" preload="auto"></audio>
        <img id="kep1"  src="./images/image3.png">
        <img id="kep2"  src="./images/image2.png">
      </a-assets>
<!--TWEAKING ASSETS' BEHAVIOUR-->
      <a-entity camera look-controls active="true" wasd-controls="fly:true; acceleration:500" position="50 -80 600" ></a-entity>
      <a-entity id="scene_holder" rotation="-20 227 0">
          <!-- animation="property: rotation; to: 0 360; loop: true; dur: 15"> //EZ EGY NAGYON SZÃ‰P BUG:DURATION SET TO LOW VALUE MEANS GLITCHING TEXTURES
          </a-entity> -->
          <a-sky src="#background"
                 rotation="000 20 -300"
                 animation="property: rotation; to: 0 360 0; loop: true; dur: 150000">
          </a-sky>
          <a-entity gltf-model="#gallery"
                    scale="5.5 5.5 5.5"
                    position="0 -95 0"
                    rotation="-3 0 0"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 150000">
          </a-entity>
          <a-entity gltf-model="#lepel"
                    scale="5.5 5.5 5.5"
                    position="0 -95 0"
                    rotation="-3 0 0"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 150000">
          </a-entity>
          <a-entity gltf-model="#virag"
                    scale="5.5 5.5 5.5"
                    position="0 -95 0"
                    rotation="-3 0 0"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 150000"
                    link="href: https://forms.gle/KGTbDyUfQrHJ7A3i6; title: enter upload section;">
          </a-entity>
          <a-entity gltf-model="#dirt"
                    scale="5.5 5.5 5.5"
                    position="0 -95 0"
                    rotation="-3 0 0"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 150000"
                    link="href: https://images.squarespace-cdn.com/content/5bca95c7c2ff614474b4e308/1551232338873-I7D0MRA1NWX7LSUABAXD/floorplan.png?content-type=image%2Fpng; title: floorplan;">
          </a-entity>
          <a-entity visible="false"
                    position="22.333 -37.890 -74.630"
                    geometry="primitive: cylinder"
                    scale="220 100 220"
                    sound="src:#universe; autoplay:true; loop:true; volume:1; refDistance: 60; rolloffFactor: 5; maxDistance:1000">
          </a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>
