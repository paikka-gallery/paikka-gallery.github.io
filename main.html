<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>paikka open call 2021</title>
    <link rel="icon" href="./images/favicon.gif" type="image/gif">
    <script src="./scripts/aframe.min.js"></script>
    <script src="./scripts/link-controls.js"></script>
    <script src="./scripts/jquery.min.js"></script>
   <script>
  AFRAME.registerComponent("mylink", {
    init: function() {
    this.el.addEventListener("click", (e)=> {
          window.location = this.data.href;
    })
    }
  })
  </script>
<!--  <script>
  var favicon_images = [
                  './images/1.gif',
                  './images/2.gif',
                  './images/3.gif',
                  './images/4.gif',
                  './images/5.gif',
                  './images/6.gif',
                  './images/7.gif',
                  './images/8.gif',
                  './images/9.gif',
                  './images/10.gif',
                  './images/11.gif',
                  './images/12.gif',
                  './images/13.gif',
                  './images/14.gif',
                  './images/15.gif',
                  './images/16.gif',
                  './images/17.gif',
                  './images/18.gif'
              ],
  image_counter = 0; // To keep track of the current image

setInterval(function() {
  // remove current favicon
  if(document.querySelector("link[rel='icon']") !== null)
      document.querySelector("link[rel='icon']").remove();
  if(document.querySelector("link[rel='shortcut icon']") !== null)
      document.querySelector("link[rel='shortcut icon']").remove();

  // add new favicon image
  document.querySelector("head").insertAdjacentHTML('beforeend', '<link rel="icon" href="' + favicon_images[image_counter] + '" type="image/gif">');

  // If last image then go to first image
  // Else go to next image
  if(image_counter == favicon_images.length -1)
      image_counter = 0;
  else
      image_counter++;
}, 1);

  </script>-->
  </head>
  <body>
<!--MAIN SCENE SETTINGS-->
    <a-scene renderer="antialias: true; colorManagement: true; sortObjects: true; highRefreshRate: true; physicallyCorrectLights: true; castShadow: true"
             keyboard-shortcuts="enterVR: false;"
  	         vr-mode-ui="enabled: false;"
             light="defaultLightsEnabled: false;"
             background="color:black;"
             loading-screen="dotsColor: black; backgroundColor: white; enabled:true"
             cursor="rayOrigin: mouse;"
             raycaster="far: 100; objects: [link]">
<!--LOADING IN ASSETS-->
      <a-assets>
        <a-asset-item id="gallery" src="./gltf_files/gallery_text5.gltf"></a-asset-item>
        <a-asset-item id="lepel" src="./gltf_files/lepel3.gltf"></a-asset-item>
        <a-asset-item id="virag" src="./gltf_files/virag2.gltf"></a-asset-item>
        <a-asset-item id="dirt" src="./gltf_files/dirt5.gltf"></a-asset-item>
        <img id="background" src="./backgrounds/jpg8k.jpg">
        <audio id="universe" src="./audio/2_gain_opus.opus" preload="auto"></audio>
      </a-assets>
<!--TWEAKING ASSETS' BEHAVIOUR-->
      <a-entity camera look-controls active="true" wasd-controls="fly:true; acceleration:500" position="80 -80 545" ></a-entity>
      <a-entity id="scene_holder" rotation="-20 227 0">
          <!-- animation="property: rotation; to: 0 360; loop: true; dur: 15"> //EZ EGY NAGYON SZÃ‰P BUG:DURATION SET TO LOW VALUE MEANS GLITCHING TEXTURES
          </a-entity> -->
          <a-sky src="#background"
                 rotation="000 20 -300"
                 animation="property: rotation; to: 0 360 0; loop: true; dur: 150000">
          </a-sky>
          <a-entity gltf-model="#gallery"
                    scale="5.5 5.5 5.5"
                    position="0 -95 0"
                    rotation="-3 0 0"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 150000">
          </a-entity>
          <a-entity gltf-model="#lepel"
                    scale="5.5 5.5 5.5"
                    position="0 -95 0"
                    rotation="-3 0 0"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 150000">
          </a-entity>
          <a-entity gltf-model="#virag"
                    scale="5.5 5.5 5.5"
                    position="0 -95 0"
                    rotation="-3 0 0"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 150000"
                    link="href: https://forms.gle/KGTbDyUfQrHJ7A3i6; title: enter upload section;">
          </a-entity>
          <a-entity gltf-model="#dirt"
                    scale="5.5 5.5 5.5"
                    position="0 -95 0"
                    rotation="-3 0 0"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 150000"
                    link="href: https://images.squarespace-cdn.com/content/5bca95c7c2ff614474b4e308/1551232338873-I7D0MRA1NWX7LSUABAXD/floorplan.png?content-type=image%2Fpng; title: floorplan;">
          </a-entity>
          <!--<a-entity text="value: welcome to paikka,
            seems a little quiet here, how about some flying?"
                    scale="22 22 22"
                    position="360 69 -390"
                    rotation="0 190 10">
          </a-entity>-->
          <a-entity text="value: welcome to paikka,
            seems a little quiet here, how about some flying?"
                    scale="100 100 100"
                    position="272 100 -356"
                    rotation="55 160 26.8">
          </a-entity>
          <a-entity visible="false"
                    position="22.333 -37.890 -74.630"
                    geometry="primitive: cylinder"
                    scale="220 100 220"
                    sound="src:#universe; autoplay:true; loop:true; volume:1; refDistance: 60; rolloffFactor: 5; maxDistance:1000">
          </a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>
